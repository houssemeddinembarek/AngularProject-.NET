(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{oSuC:function(e,t,i){"use strict";i.r(t),i.d(t,"FixrequestModule",function(){return l});var s=i("ofXK"),u=i("tyNb"),r=i("fXoL"),c=i("JIr8"),a=i("2Vo4"),n=i("z6cu"),b=i("AytR"),o=i("tk/3"),x=i("5eHb");let q=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.FixRequestSubject=new a.a([])}GetFixRequest(e){this.http.post(b.a.apiUrl+"FixRequest/GetFixRequest",e).subscribe(e=>{this.FixRequestSubject.next(e)})}AddFixRequest(e){this.http.post(b.a.apiUrl+"FixRequest/AddFixRequest",e).pipe(Object(c.a)(e=>(this.toastr.error("Error While Adding Fix Request"),Object(n.a)(e)))).subscribe(e=>{let t=this.FixRequestSubject.value;t.push(e),this.FixRequestSubject.next(t)})}DeleteFixRequest(e){this.http.delete(b.a.apiUrl+"FixRequest/DeleteFixRequest?fixRequestId="+e).pipe(Object(c.a)(e=>(this.toastr.error("Error While Deleting Fix Request"),Object(n.a)(e)))).subscribe(t=>{let i=this.FixRequestSubject.value;const s=i.findIndex(t=>t.id==e);i.splice(s,1),this.FixRequestSubject.next(i),this.toastr.success("Fix Request Deleted Successfully")})}UpdateFixRequest(e){this.http.patch(b.a.apiUrl+"FixRequest/UpdateFixRequest",e).pipe(Object(c.a)(e=>(this.toastr.error("Error While Updating Fix Request"),Object(n.a)(e)))).subscribe(t=>{let i=this.FixRequestSubject.value;const s=i.findIndex(t=>t.id==e.id);i[s]=t,this.FixRequestSubject.next(i),this.toastr.success("Fix Request Updated Successfully")})}GetFixRequestByCode(e){this.http.get(b.a.apiUrl+"FixRequest/GetFixRequestByCode/"+e).subscribe(e=>{this.FixRequestSubject.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Xb(o.b),r.Xb(x.b))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=i("aUzC"),p=i("Jxsn");const F=[{path:"",component:(()=>{class e{constructor(e,t){this.service=e,this.CategoryService=t}ngOnInit(){this.service.FixRequestSubject.asObservable().subscribe(e=>{this.FixRequests=e}),this.service.GetFixRequest({pageId:1,filter:1}),this.CategoryService.EquipementCategorySubject.asObservable().subscribe(e=>{this.Categories=e}),this.CategoryService.GetEquipementCategory()}FixRequestSubmitted(e){this.service.AddFixRequest(e)}DeleteFixRequestSubmitted(e){this.service.DeleteFixRequest(e)}UpdateFixRequestSubmitted(e){this.service.UpdateFixRequest(e)}DateSubmitted(e){this.service.GetFixRequest(e)}SearchSubmitted(e){e.length<1?this.service.GetFixRequest({}):this.service.GetFixRequestByCode(e.toUpperCase())}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(q),r.Kb(d.a))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-fixrequest"]],decls:1,vars:2,consts:[[3,"Categories","FixRequests","SearchSubmit","DateSubmit","UpdateFixRequestSubmit","DeleteFixRequestSubmit","FixRequestSubmit","FilterSubmitted"]],template:function(e,t){1&e&&(r.Qb(0,"app-fixrequest-page",0),r.ac("SearchSubmit",function(e){return t.SearchSubmitted(e)})("DateSubmit",function(e){return t.DateSubmitted(e)})("UpdateFixRequestSubmit",function(e){return t.UpdateFixRequestSubmitted(e)})("DeleteFixRequestSubmit",function(e){return t.DeleteFixRequestSubmitted(e)})("FixRequestSubmit",function(e){return t.FixRequestSubmitted(e)})("FilterSubmitted",function(e){return t.DateSubmitted(e)}),r.Pb()),2&e&&r.kc("Categories",t.Categories)("FixRequests",t.FixRequests)},directives:[p.a],styles:[""]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({imports:[[u.c.forChild(F)],u.c]}),e})();var h=i("PCNd");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({imports:[[s.b,R,h.a]]}),e})()}}]);