(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DUEI:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var c=r("JIr8"),o=r("AytR"),i=r("2Vo4"),s=r("z6cu"),a=r("fXoL"),d=r("tk/3"),n=r("5eHb");let u=(()=>{class t{constructor(t,e){this.http=t,this.toastr=e,this.productSubject=new i.a([]),this.ProductsCategoriesSubject=new i.a([])}GetProdcutsCategories(){this.http.get(o.a.apiUrl+"Product/GetProductsGategory").subscribe(t=>{this.ProductsCategoriesSubject.next(t)})}SearchByCategoryAndName(t,e){this.http.post(o.a.apiUrl+"Product/SearchProductByNameCategory",{categoryDTO:t,productQuery:e}).subscribe(t=>{this.productSubject.next(t)})}SearchByCategory(t){this.http.post(o.a.apiUrl+"Product/SearchProductByCategory",t).subscribe(t=>{this.productSubject.next(t)})}addProduct(t){this.http.post(o.a.apiUrl+"Product/AddProduct",t).pipe(Object(c.a)(t=>(this.toastr.error("Error While Adding Product"),Object(s.a)(t)))).subscribe(t=>{let e=this.productSubject.value;e.push(t),this.productSubject.next(e),this.toastr.success("Product Added Successfully")})}getProducts(){this.http.get(o.a.apiUrl+"Product/GetProducts").subscribe(t=>{this.productSubject.next(t)})}deleteProduct(t){this.http.delete(o.a.apiUrl+"Product/deletePrduct/"+t).subscribe(e=>{let r=this.productSubject.value;const c=r.findIndex(e=>e.id==t);r.splice(c,1),this.productSubject.next(r),this.toastr.success("Product Deleted Successfully")})}UpdateProduct(t){this.http.patch(o.a.apiUrl+"Product/UpdateProduct",t).subscribe(e=>{let r=this.productSubject.value;const c=r.findIndex(e=>e.id==t.id);r[c]=t,this.productSubject.next(r),this.toastr.success("Product Updated Successfully")})}UpdateStock(t,e){this.http.patch(o.a.apiUrl+"Product/UpdateProductQuantity/"+t+"/"+e,e).subscribe(t=>{this.toastr.success("Stock Updated Successfully")})}SearchByProdName(t){this.http.post(o.a.apiUrl+"Product/SearchProductByName",t).subscribe(t=>{this.productSubject.next(t)})}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(d.b),a.Xb(n.b))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},PI1B:function(t,e,r){"use strict";r.r(e),r.d(e,"ProductsModule",function(){return C});var c=r("ofXK"),o=r("3Pt+"),i=r("tyNb"),s=r("fXoL"),a=r("DUEI");class d extends class{constructor(t){this.title=t.title,this.originalPrice=t.originalPrice,this.price=t.price,this.comment=t.comment,this.categoryId=t.categoryId,this.stock=t.stock,this.discount=t.discount}}{constructor(t){super(t),this.id=t.id}UpdateProduct(t){this.title=t.title,this.originalPrice=t.originalPrice,this.price=t.price,this.comment=t.comment,this.categoryId=t.categoryId,this.stock=t.stock,this.discount=t.discount}}var n=r("1kSV");function u(t,e){if(1&t&&(s.Qb(0,"option",20),s.Cc(1),s.Pb()),2&t){const t=e.$implicit;s.kc("value",t.categoryId),s.yb(1),s.Ec(" ",t.categoryName," ")}}function b(t,e){if(1&t&&(s.Qb(0,"button",21),s.Cc(1,"Add"),s.Pb()),2&t){const t=s.ec();s.kc("disabled",!t.addprodForm.valid)}}function l(t,e){if(1&t&&(s.Qb(0,"button",21),s.Cc(1,"Update"),s.Pb()),2&t){const t=s.ec();s.kc("disabled",!t.addprodForm.valid)}}let p=(()=>{class t{constructor(t,e,r){this.formBuilder=t,this.activeModal=e,this.service=r,this.addprodForm=this.formBuilder.group({title:["",[o.s.required]],comment:["",[o.s.required]],categoryId:["",[o.s.required]],price:["",[o.s.required]],originalPrice:["",[o.s.required]],stock:["",[o.s.required]],discount:["",[o.s.required]]})}ngOnInit(){this.product&&this.addprodForm.patchValue(this.product),this.category=this.service.ProdCategory}Submit(){this.product?(this.product=new d(this.product),this.product.UpdateProduct(this.addprodForm.value),this.activeModal.close(this.product)):this.activeModal.close(this.addprodForm.value)}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(o.c),s.Kb(n.a),s.Kb(a.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-product-form"]],inputs:{product:"product"},decls:31,vars:4,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","name","name","placeholder","Title","formControlName","title",1,"form-control"],["rows","4","name","comment","placeholder","Comment","formControlName","comment",1,"form-control"],["formControlName","categoryId",1,"custom-select","mb-3"],["disabled",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","aria-label","Dollar amount (with dot and two decimal places)","name","price","placeholder","Price","formControlName","price",1,"form-control"],[1,"input-group-text"],["type","number","aria-label","Dollar amount (with dot and two decimal places)","name","Originalprice","placeholder","Original Price","formControlName","originalPrice",1,"form-control"],["type","number","name","stock","placeholder","Stock","formControlName","stock",1,"form-control"],[1,"input-group"],["type","number","name","discount","placeholder","Discount","formControlName","discount",1,"form-control"],[1,"modal-footer"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"h5",1),s.Cc(2,"Product"),s.Pb(),s.Qb(3,"button",2),s.ac("click",function(){return e.activeModal.dismiss("Cross click")}),s.Pb(),s.Pb(),s.Qb(4,"div",3),s.Qb(5,"form",4),s.ac("ngSubmit",function(){return e.Submit()}),s.Qb(6,"div",5),s.Lb(7,"input",6),s.Pb(),s.Qb(8,"div",5),s.Lb(9,"textarea",7),s.Pb(),s.Qb(10,"select",8),s.Qb(11,"option",9),s.Cc(12,"Choose Value"),s.Pb(),s.Qb(13,"option",10),s.Cc(14,"Choose Category"),s.Pb(),s.Ac(15,u,2,2,"option",11),s.Pb(),s.Qb(16,"div",5),s.Lb(17,"input",12),s.Qb(18,"span",13),s.Cc(19,"$"),s.Pb(),s.Pb(),s.Qb(20,"div",5),s.Lb(21,"input",14),s.Qb(22,"span",13),s.Cc(23,"$"),s.Pb(),s.Pb(),s.Qb(24,"div",5),s.Lb(25,"input",15),s.Pb(),s.Qb(26,"div",16),s.Lb(27,"input",17),s.Pb(),s.Qb(28,"div",18),s.Ac(29,b,2,1,"button",19),s.Ac(30,l,2,1,"button",19),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.yb(5),s.kc("formGroup",e.addprodForm),s.yb(10),s.kc("ngForOf",e.category),s.yb(14),s.kc("ngIf",""==e.addprodForm.value.title),s.yb(1),s.kc("ngIf",""!==e.addprodForm.value.title))},directives:[o.t,o.k,o.e,o.b,o.j,o.d,o.r,o.n,o.u,c.l,o.o,c.m],styles:[""]}),t})();var h=r("d2bA"),m=r("ZOsW");function P(t,e){if(1&t){const t=s.Rb();s.Qb(0,"tr"),s.Qb(1,"th",20),s.Cc(2),s.Pb(),s.Qb(3,"td"),s.Cc(4),s.Pb(),s.Qb(5,"td"),s.Cc(6),s.Pb(),s.Qb(7,"td"),s.Cc(8),s.Qb(9,"a",21),s.ac("click",function(){s.uc(t);const r=e.$implicit,c=s.ec(),o=s.tc(40);return c.SetItem(r),c.open(o)}),s.dc(),s.Qb(10,"svg",22),s.Lb(11,"path",23),s.Pb(),s.Pb(),s.Pb(),s.cc(),s.Qb(12,"td"),s.Cc(13),s.Pb(),s.Qb(14,"td"),s.Qb(15,"button",24),s.ac("click",function(){s.uc(t);const r=e.$implicit;return s.ec().UpdateProd(r)}),s.Cc(16,"Update"),s.Pb(),s.Qb(17,"button",25),s.ac("click",function(){s.uc(t);const r=e.$implicit;return s.ec().deleteSubmit(r.id)}),s.Cc(18,"Delete"),s.Pb(),s.Pb(),s.Pb()}if(2&t){const t=e.$implicit;s.yb(2),s.Dc(t.title),s.yb(2),s.Dc(t.price),s.yb(2),s.Dc(t.originalPrice),s.yb(2),s.Ec("",t.stock," "),s.yb(5),s.Dc(t.discount)}}function y(t,e){1&t&&(s.Qb(0,"div",26),s.Cc(1,"No Record Found"),s.Pb())}function g(t,e){if(1&t){const t=s.Rb();s.Qb(0,"div",27),s.Qb(1,"h4",28),s.Cc(2,"Update Stock"),s.Pb(),s.Qb(3,"button",29),s.ac("click",function(){return e.$implicit.dismiss("Cross click")}),s.Qb(4,"span",30),s.Cc(5,"\xd7"),s.Pb(),s.Pb(),s.Pb(),s.Qb(6,"div",31),s.Qb(7,"form"),s.Qb(8,"input",32),s.ac("ngModelChange",function(e){return s.uc(t),s.ec().StockToUpdate.stock=e}),s.Pb(),s.Pb(),s.Pb(),s.Qb(9,"div",33),s.Qb(10,"button",34),s.ac("click",function(){return s.uc(t),s.ec().UpdateStock()})("click",function(){return e.$implicit.close("Save click")}),s.Cc(11,"Save"),s.Pb(),s.Pb()}if(2&t){const t=s.ec();s.yb(8),s.kc("ngModel",t.StockToUpdate.stock)}}let S=(()=>{class t{constructor(t,e){this.formBuilder=t,this.modalService=e,this.closeResult="",this.SearchSubmit=new s.n,this.prodSubmit=new s.n,this.prodDelete=new s.n,this.prodUpdated=new s.n,this.UpdateStockSubmit=new s.n,this.SearByCategory=new s.n,this.categories=[]}SearchByCategory(t){this.SearByCategory.emit(t)}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=t})}ngOnInit(){}deleteSubmit(t){this.modalService.open(h.a).result.then(e=>{this.prodDelete.emit(t)},t=>{})}AddProduct(){this.modalService.open(p).result.then(t=>{this.prodSubmit.emit(new d(t))})}UpdateProd(t){const e=this.modalService.open(p);e.componentInstance.product=t,e.result.then(t=>{this.prodUpdated.emit(t)},t=>{})}SetItem(t){this.StockToUpdate=t}UpdateStock(){this.UpdateStockSubmit.emit(this.StockToUpdate)}Search(t){this.SearchSubmit.emit({queryString:t.target.value})}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(o.c),s.Kb(n.h))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-products-page"]],inputs:{products:"products",categories:"categories"},outputs:{SearchSubmit:"SearchSubmit",prodSubmit:"prodSubmit",prodDelete:"prodDelete",prodUpdated:"prodUpdated",UpdateStockSubmit:"UpdateStockSubmit",SearByCategory:"SearByCategory"},decls:41,vars:3,consts:[[1,"prod"],[2,"margin","auto","width","300px"],[1,"text-center","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"text-center","mb-3","omega-select"],["bindLabel","categoryName","bindValue","categoryId","placeholder","Search by category",3,"items","change","clear"],[1,"form-inline","justify-content-center"],[1,"form-group","mr-2"],[1,"input-group"],["name","search","placeholder","Search",1,"form-control",3,"keyup"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-search"],["d","M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","alert alert-danger text-center",4,"ngIf"],["content",""],["scope","row"],["role","button",1,"margin-right",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pen-fill"],["d","m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"],["type","button","role","button",1,"btn","btn-outline-dark","mr-1",3,"click"],["type","button","role","button",1,"btn","btn-outline-dark",3,"click"],[1,"alert","alert-danger","text-center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["type","number","name","stock","placeholder","Stock",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Lb(1,"br"),s.Lb(2,"br"),s.Lb(3,"br"),s.Qb(4,"div",1),s.Qb(5,"div",2),s.Qb(6,"button",3),s.ac("click",function(){return e.AddProduct()}),s.Cc(7,"Add Product"),s.Pb(),s.Pb(),s.Qb(8,"div",4),s.Qb(9,"ng-select",5),s.ac("change",function(t){return e.SearchByCategory(t)})("clear",function(){return e.SearchByCategory(null)}),s.Pb(),s.Pb(),s.Pb(),s.Qb(10,"form",6),s.Qb(11,"div",7),s.Qb(12,"div",8),s.Qb(13,"input",9),s.ac("keyup",function(t){return e.Search(t)}),s.Pb(),s.Qb(14,"div",10),s.Qb(15,"button",11),s.dc(),s.Qb(16,"svg",12),s.Lb(17,"path",13),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.cc(),s.Lb(18,"br"),s.Lb(19,"br"),s.Qb(20,"div",14),s.Qb(21,"table",15),s.Qb(22,"thead"),s.Qb(23,"tr"),s.Qb(24,"th",16),s.Cc(25,"Title"),s.Pb(),s.Qb(26,"th",16),s.Cc(27,"Price"),s.Pb(),s.Qb(28,"th",16),s.Cc(29,"OriginalPrice"),s.Pb(),s.Qb(30,"th",16),s.Cc(31,"Stock"),s.Pb(),s.Qb(32,"th",16),s.Cc(33,"Discount"),s.Pb(),s.Qb(34,"th",16),s.Cc(35,"Actions"),s.Pb(),s.Pb(),s.Pb(),s.Qb(36,"tbody"),s.Ac(37,P,19,5,"tr",17),s.Pb(),s.Pb(),s.Ac(38,y,2,0,"div",18),s.Pb(),s.Pb(),s.Ac(39,g,12,1,"ng-template",null,19,s.Bc)),2&t&&(s.yb(9),s.kc("items",e.categories),s.yb(28),s.kc("ngForOf",e.products),s.yb(1),s.kc("ngIf",e.products.length<1))},directives:[m.a,o.t,o.k,o.l,c.l,c.m,o.o,o.b,o.j,o.m],styles:[""]}),t})();const f=[{path:"",component:(()=>{class t{constructor(t){this.service=t,this.searchKeyword=""}ngOnInit(){this.service.ProductsCategoriesSubject.asObservable().subscribe(t=>{this.categories=t,this.service.ProdCategory=this.categories}),this.service.GetProdcutsCategories(),this.service.productSubject.asObservable().subscribe(t=>{this.productList=t}),this.service.getProducts()}prodSubmitted(t){this.service.addProduct(t)}SearByCategory(t){this.selectedCatefory=t,null==this.selectedCatefory?""!=this.searchKeyword?this.service.SearchByProdName({queryString:this.searchKeyword}):this.service.getProducts():""!=this.searchKeyword?this.service.SearchByCategoryAndName(this.selectedCatefory,{queryString:this.searchKeyword}):this.service.SearchByCategory(t)}prodDeleted(t){this.service.deleteProduct(t)}UpdateProduct(t){this.service.UpdateProduct(t)}UpdateStockSubmitted(t){this.service.UpdateStock(t.id,t.stock)}SearchSubmitted(t){t.length<1?(this.searchKeyword="",this.service.getProducts()):(this.searchKeyword=t.queryString,null!=this.selectedCatefory?this.service.SearchByCategoryAndName(this.selectedCatefory,t):this.service.SearchByProdName(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Kb(a.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-products"]],decls:1,vars:2,consts:[[3,"products","categories","SearchSubmit","UpdateStockSubmit","prodUpdated","SearByCategory","prodSubmit","prodDelete"]],template:function(t,e){1&t&&(s.Qb(0,"app-products-page",0),s.ac("SearchSubmit",function(t){return e.SearchSubmitted(t)})("UpdateStockSubmit",function(t){return e.UpdateStockSubmitted(t)})("prodUpdated",function(t){return e.UpdateProduct(t)})("SearByCategory",function(t){return e.SearByCategory(t)})("prodSubmit",function(t){return e.prodSubmitted(t)})("prodDelete",function(t){return e.prodDeleted(t)}),s.Pb()),2&t&&s.kc("products",e.productList)("categories",e.categories)},directives:[S],styles:[""]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[i.c.forChild(f)],i.c]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({imports:[[c.b,v,o.f,o.p,m.b]]}),t})()}}]);