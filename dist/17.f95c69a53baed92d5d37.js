(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{QDmw:function(t,e,r){"use strict";r.r(e),r.d(e,"ProductsCategoryModule",function(){return S});var o=r("ofXK"),c=r("3Pt+"),a=r("tyNb"),i=r("fXoL"),s=r("JIr8"),b=r("AytR"),n=r("2Vo4"),u=r("z6cu"),l=r("tk/3"),d=r("5eHb");let m=(()=>{class t{constructor(t,e){this.http=t,this.toastr=e,this.CategorySubject=new n.a([]),this.ProductsCategoriesSubject=new n.a([])}AddCategory(t){this.http.post(b.a.apiUrl+"Product/AddProductCatgory",t).pipe(Object(s.a)(t=>(this.toastr.error("Error While Adding Category"),Object(u.a)(t)))).subscribe(t=>{let e=this.CategorySubject.value;e.push(t),this.CategorySubject.next(e),this.toastr.success("Category Added Successfully")})}GetCategories(){this.http.get(b.a.apiUrl+"Product/GetProductsGategory").subscribe(t=>{this.CategorySubject.next(t)})}DeleteCategory(t){this.http.delete(b.a.apiUrl+"Product/deletePrductCategory/"+t).subscribe(e=>{let r=this.CategorySubject.value;const o=r.findIndex(e=>e.categoryId==t);r.splice(o,1),this.CategorySubject.next(r),this.toastr.success("Category Deleted Successfully")})}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(l.b),i.Xb(d.b))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=r("d2bA");class p{constructor(t){this.categoryName=t.CategoryName,this.comment=t.Comment}}var g=r("1kSV");let C=(()=>{class t{constructor(t,e){this.formBuilder=t,this.activeModal=e,this.AddCategory=this.formBuilder.group({CategoryName:["",[c.s.required]],Comment:["",[c.s.required]]})}ngOnInit(){}Submit(){this.activeModal.close(this.AddCategory.value)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(c.c),i.Kb(g.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-category-form"]],decls:13,vars:2,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","name","name","placeholder","Title","formControlName","CategoryName",1,"form-control"],["rows","4","name","comment","placeholder","Comment","formControlName","Comment",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"h5",1),i.Cc(2,"Product"),i.Pb(),i.Qb(3,"button",2),i.ac("click",function(){return e.activeModal.dismiss("Close click")}),i.Pb(),i.Pb(),i.Qb(4,"div",3),i.Qb(5,"form",4),i.ac("ngSubmit",function(){return e.Submit()}),i.Qb(6,"div",5),i.Lb(7,"input",6),i.Pb(),i.Qb(8,"div",5),i.Lb(9,"textarea",7),i.Pb(),i.Qb(10,"div",8),i.Qb(11,"button",9),i.Cc(12,"Add"),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.yb(5),i.kc("formGroup",e.AddCategory),i.yb(6),i.kc("disabled",!e.AddCategory.valid))},directives:[c.t,c.k,c.e,c.b,c.j,c.d],styles:[""]}),t})();function h(t,e){if(1&t){const t=i.Rb();i.Qb(0,"tr"),i.Qb(1,"th",6),i.Cc(2),i.Pb(),i.Qb(3,"td"),i.Cc(4),i.Pb(),i.Qb(5,"td"),i.Qb(6,"button",7),i.ac("click",function(){i.uc(t);const r=e.$implicit;return i.ec().DeleteCategory(r.categoryId)}),i.Cc(7,"Delete"),i.Pb(),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit;i.yb(2),i.Dc(t.categoryName),i.yb(2),i.Dc(t.comment)}}let f=(()=>{class t{constructor(t){this.modalService=t,this.CategorySubmit=new i.n,this.DeleteSubmit=new i.n}ngOnInit(){}AddCategory(){this.modalService.open(C).result.then(t=>{this.CategorySubmit.emit(new p(t))})}DeleteCategory(t){this.modalService.open(y.a).result.then(e=>{this.DeleteSubmit.emit(t)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(g.h))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-category-page"]],inputs:{Data:"Data"},outputs:{CategorySubmit:"CategorySubmit",DeleteSubmit:"DeleteSubmit"},decls:20,vars:1,consts:[[1,"prod"],[1,"text-center"],[1,"btn","btn-primary",3,"click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button","role","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Lb(1,"br"),i.Lb(2,"br"),i.Lb(3,"br"),i.Qb(4,"div",1),i.Qb(5,"button",2),i.ac("click",function(){return e.AddCategory()}),i.Cc(6,"Add Category"),i.Pb(),i.Pb(),i.Lb(7,"br"),i.Lb(8,"br"),i.Qb(9,"table",3),i.Qb(10,"thead"),i.Qb(11,"tr"),i.Qb(12,"th",4),i.Cc(13,"Category Name"),i.Pb(),i.Qb(14,"th",4),i.Cc(15,"Comment"),i.Pb(),i.Qb(16,"th",4),i.Cc(17,"Actions"),i.Pb(),i.Pb(),i.Pb(),i.Qb(18,"tbody"),i.Ac(19,h,8,2,"tr",5),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.yb(19),i.kc("ngForOf",e.Data))},directives:[o.l],styles:[""]}),t})();const P=[{path:"",component:(()=>{class t{constructor(t){this.service=t}ngOnInit(){this.service.CategorySubject.asObservable().subscribe(t=>{this.CategoryData=t}),this.service.GetCategories()}CategorySubmitted(t){this.service.AddCategory(t)}DeleteSubmitted(t){this.service.DeleteCategory(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(m))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-products-category"]],decls:1,vars:1,consts:[[3,"Data","DeleteSubmit","CategorySubmit"]],template:function(t,e){1&t&&(i.Qb(0,"app-category-page",0),i.ac("DeleteSubmit",function(t){return e.DeleteSubmitted(t)})("CategorySubmit",function(t){return e.CategorySubmitted(t)}),i.Pb()),2&t&&i.kc("Data",e.CategoryData)},directives:[f],styles:[""]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[a.c.forChild(P)],a.c]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[o.b,v,c.f,c.p]]}),t})()}}]);