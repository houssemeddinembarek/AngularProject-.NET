(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"59+C":function(e,t,i){"use strict";i.r(t),i.d(t,"FixrequestModule",function(){return f});var s=i("ofXK"),b=i("tyNb"),c=i("d2bA"),r=i("fXoL"),u=i("2Vo4"),n=i("z6cu"),a=i("JIr8"),d=i("lJxs"),o=i("AytR"),l=i("tk/3"),p=i("5eHb");let x=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.FixRequestSubject=new u.a([])}GetFixRequest(e){this.http.post(o.a.apiUrl+"FixRequest/GetFixRequest",e).subscribe(e=>{this.FixRequestSubject.next(e)})}AddFixRequest(e){return this.http.post(o.a.apiUrl+"FixRequest/AddFixRequest",e).pipe(Object(a.a)(e=>(this.toastr.error("Error While Adding Fix Request"),Object(n.a)(e)))).pipe(Object(d.a)(e=>{let t=this.FixRequestSubject.value;return t.push(e),this.FixRequestSubject.next(t),this.toastr.success("Fix Request Added Successfully"),e}))}DeleteFixRequest(e){this.http.delete(o.a.apiUrl+"FixRequest/DeleteFixRequest?fixRequestId="+e).pipe(Object(a.a)(e=>(this.toastr.error("Error While Deleting Fix Request"),Object(n.a)(e)))).subscribe(t=>{let i=this.FixRequestSubject.value;const s=i.findIndex(t=>t.id==e);i.splice(s,1),this.FixRequestSubject.next(i),this.toastr.success("Fix Request Deleted Successfully")})}UpdateFixRequest(e){return this.http.patch(o.a.apiUrl+"FixRequest/UpdateFixRequest",e).pipe(Object(a.a)(e=>(this.toastr.error("Error While Updating Fix Request"),Object(n.a)(e)))).pipe(Object(d.a)(t=>{let i=this.FixRequestSubject.value;const s=i.findIndex(t=>t.id==e.id);i[s]=t,this.FixRequestSubject.next(i),this.toastr.success("Fix Request Updated Successfully")}))}SearchFixRequests(e){this.http.post(o.a.apiUrl+"FixRequest/SearchFixRequests",e).subscribe(e=>{this.FixRequestSubject.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Xb(l.b),r.Xb(p.b))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i("aUzC"),F=i("1kSV"),R=i("Jxsn"),P=i("m1XX");const q=["trigger"];function S(e,t){if(1&e&&(r.Qb(0,"table",4,5),r.Qb(2,"tbody"),r.Qb(3,"tr"),r.Lb(4,"td"),r.Qb(5,"td",6),r.Qb(6,"div",7),r.Qb(7,"table",8),r.Qb(8,"tbody"),r.Qb(9,"tr"),r.Qb(10,"td",9),r.Qb(11,"table",10),r.Qb(12,"tbody"),r.Qb(13,"tr"),r.Qb(14,"td",11),r.Qb(15,"h2",12),r.Cc(16,"MEGATEK"),r.Pb(),r.Pb(),r.Pb(),r.Lb(17,"hr"),r.Qb(18,"tr"),r.Qb(19,"td",11),r.Qb(20,"table",13),r.Qb(21,"tbody"),r.Qb(22,"tr"),r.Qb(23,"td"),r.Qb(24,"table",14),r.Qb(25,"tbody"),r.Qb(26,"tr",15),r.Qb(27,"td"),r.Cc(28),r.fc(29,"date"),r.Pb(),r.Qb(30,"td",16),r.Cc(31),r.Pb(),r.Pb(),r.Qb(32,"tr"),r.Qb(33,"td"),r.Cc(34,"Name:"),r.Pb(),r.Qb(35,"td",16),r.Cc(36),r.Pb(),r.Pb(),r.Qb(37,"tr"),r.Qb(38,"td"),r.Cc(39,"P.Num:"),r.Pb(),r.Qb(40,"td",16),r.Cc(41),r.Pb(),r.Pb(),r.Qb(42,"tr"),r.Qb(43,"td"),r.Cc(44,"Equipement:"),r.Pb(),r.Qb(45,"td",16),r.Cc(46),r.Pb(),r.Pb(),r.Qb(47,"tr"),r.Qb(48,"td"),r.Cc(49,"Comment:"),r.Pb(),r.Qb(50,"td",16),r.Qb(51,"p"),r.Cc(52),r.Pb(),r.Pb(),r.Pb(),r.Qb(53,"tr"),r.Qb(54,"td"),r.Cc(55,"Price:"),r.Pb(),r.Qb(56,"td",16),r.Cc(57),r.Pb(),r.Pb(),r.Qb(58,"tr"),r.Qb(59,"td"),r.Cc(60,"Advance:"),r.Pb(),r.Qb(61,"td",16),r.Cc(62),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(63,"hr"),r.Pb(),r.Pb(),r.Qb(64,"tr"),r.Qb(65,"td",17),r.Qb(66,"p"),r.Cc(67,"Adress: imm.Radhia Zouhour Sousse "),r.Lb(68,"br"),r.Cc(69,"P.Num: 50399393 "),r.Pb(),r.Qb(70,"span",18),r.Cc(71," \u0644\u0627 \u064a\u062a\u062d\u0645\u0644 \u0627\u0644\u0645\u062d\u0644 \u0645\u0633\u0624\u0648\u0644\u064a\u0629 \u0623\u064a \u0623\u062c\u0647\u0632\u0629 \u062a\u0631\u0643\u0647\u0627 \u0635\u0627\u062d\u0628\u0647\u0627 \u0623\u0643\u062b\u0631 \u0645\u0646 90 \u064a\u0648\u0645\u0627 "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Lb(72,"td"),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.ec();r.yb(28),r.Dc(r.hc(29,8,e.addedFixReceipt.createdAt,"short")),r.yb(3),r.Ec(" ",e.addedFixReceipt.code," "),r.yb(5),r.Ec(" ",e.addedFixReceipt.clientName," "),r.yb(5),r.Ec(" ",e.addedFixReceipt.phoneNumber," "),r.yb(5),r.Ec(" ",e.addedFixReceipt.equipementName," "),r.yb(6),r.Ec("",e.addedFixReceipt.comment," "),r.yb(5),r.Ec(" ",e.addedFixReceipt.price," TND "),r.yb(5),r.Ec(" ",e.addedFixReceipt.advance," TND ")}}const m=[{path:"",component:(()=>{class e{constructor(e,t,i){this.service=e,this.CategoryService=t,this.modalService=i,this.addedFixReceipt=null}ngOnInit(){this.service.FixRequestSubject.asObservable().subscribe(e=>{this.FixRequests=e}),this.service.GetFixRequest({pageId:1,filter:1}),this.CategoryService.EquipementCategorySubject.asObservable().subscribe(e=>{this.Categories=e}),this.CategoryService.GetEquipementCategory()}FixRequestSubmitted(e){this.service.AddFixRequest(e).subscribe(e=>{this.addedFixReceipt=e,setTimeout(()=>{this.triggerButton.nativeElement.click()},500)})}DeleteFixRequestSubmitted(e){this.modalService.open(c.a).result.then(t=>{this.service.DeleteFixRequest(e)},e=>{})}UpdateFixRequestSubmitted(e){this.service.UpdateFixRequest(e).subscribe(e=>{})}DateSubmitted(e){this.service.GetFixRequest(e),this.service.FixRequestSubject.asObservable().subscribe(e=>{this.FixRequests=e})}SearchSubmitted(e){e&&e.value.length<1?this.service.GetFixRequest({}):this.service.SearchFixRequests(e)}Print(){console.log("ssss")}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(x),r.Kb(h.a),r.Kb(F.h))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-fixrequest"]],viewQuery:function(e,t){if(1&e&&r.Gc(q,1),2&e){let e;r.sc(e=r.bc())&&(t.triggerButton=e.first)}},decls:5,vars:3,consts:[[3,"Categories","FixRequests","SearchSubmit","DateSubmit","UpdateFixRequestSubmit","DeleteFixRequestSubmit","FixRequestSubmit","FilterSubmitted"],["id","PageToPrint","style","display: none;",4,"ngIf"],["role","button","type","button","styleSheetFile","assets/styles/printStyle.css","printSectionId","PageToPrint","ngxPrint","",1,"btn","btn-outline-success",2,"display","none"],["trigger",""],["id","PageToPrint",2,"display","none"],["PageToPrint",""],[1,"container"],[1,"content"],["width","100%","cellpadding","0","cellspacing","0",1,"main"],[1,"content-wrap","aligncenter"],["width","100%","cellpadding","0","cellspacing","0"],[1,"content-block"],[2,"text-align","center"],[1,"invoice"],["cellpadding","0","cellspacing","0",1,"invoice-items"],[1,"receipt-date"],[1,"alignright"],[1,"content-block",2,"text-align","center"],[2,"font-size","10px"]],template:function(e,t){1&e&&(r.Qb(0,"app-fixrequest-page",0),r.ac("SearchSubmit",function(e){return t.SearchSubmitted(e)})("DateSubmit",function(e){return t.DateSubmitted(e)})("UpdateFixRequestSubmit",function(e){return t.UpdateFixRequestSubmitted(e)})("DeleteFixRequestSubmit",function(e){return t.DeleteFixRequestSubmitted(e)})("FixRequestSubmit",function(e){return t.FixRequestSubmitted(e)})("FilterSubmitted",function(e){return t.DateSubmitted(e)}),r.Pb(),r.Ac(1,S,73,11,"table",1),r.Qb(2,"button",2,3),r.Cc(4,"Print Receipt"),r.Pb()),2&e&&(r.kc("Categories",t.Categories)("FixRequests",t.FixRequests),r.yb(1),r.kc("ngIf",null!=t.addedFixReceipt))},directives:[R.a,s.m,P.a],pipes:[s.e],styles:[""]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({imports:[[b.c.forChild(m)],b.c]}),e})();var g=i("PCNd");let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({imports:[[s.b,Q,g.a,P.b]]}),e})()}}]);